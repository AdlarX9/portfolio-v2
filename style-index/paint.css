:root {
	--rectangles-color: var(--dark-six);
	--angle: -40deg;
	--spacing: 40px;
	--bar-width: 5rem;
}

.shutter-container {
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	z-index: -1;

	/* On bouge tout le conteneur sur le GPU */
	transform: rotate(var(--angle)) translateZ(0);

	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: var(--spacing);

	/* OPTIMISATION : On enlève le mask-image lourd. 
	   Si tu veux vraiment l'effet fondu, utilise un overlay statique par dessus */
	pointer-events: none;

	/* Variable pilotée par le JS */
	--mouse-delta: 0;
}

.shutter-bar {
	width: 100%;
	height: var(--bar-width);

	/* FAKE GLASS : On utilise de l'opacité simple au lieu du blur */
	background: rgba(var(--rectangles-color), 0.05);
	border-top: 1px solid rgba(var(--accent), 0.3);
	border-bottom: 1px solid rgba(var(--accent), 0.1);
	border-left: 1px solid rgba(var(--accent), 0.1);
	border-right: 1px solid rgba(var(--accent), 0.3);
	border-radius: 0.5rem;

	/* On garde un shadow léger mais sans grand rayon de flou */
	box-shadow: 0 0 10px rgba(var(--rectangles-color), 0.05);
	filter: brightness(130%);

	/* IMPORTANT : Pas de transition ici car le JS fait déjà l'interpolation (Lerp) */
	/* transition: transform 0.1s linear; <--- SUPPRIMÉ */

	will-change: transform;
	/* translate3d force l'accélération matérielle */
	transform: translate3d(0, 0, 0);
}

/* Optimisation des sélecteurs pour éviter les calculs complexes */
.shutter-bar:nth-child(odd) {
	/* translate3d est vital pour la perf */
	transform: translate3d(calc(var(--mouse-delta) * 0.1rem), 0, 0);
	background: linear-gradient(90deg, transparent, rgba(var(--rectangles-color), 0.15), transparent);
}

.shutter-bar:nth-child(even) {
	transform: translate3d(calc(var(--mouse-delta) * -0.1rem), 0, 0);
	background: linear-gradient(270deg, transparent, rgba(var(--rectangles-color), 0.15), transparent);
}

.drawings-stroke {
	margin-top: -5rem;
	margin-bottom: -2.5rem;
}

.drawings-track {
	height: clamp(103.125rem, max(200vw, 150vh), 125rem);
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
}

.drawing-card {
	margin: 1.3rem;
	background: black;
	position: absolute;
}

.drawing-card img {
	width: auto;
	max-width: 90vw;
	max-height: 37.5rem;
	opacity: 0.8;
	transition: transform 0.3s ease;
}

#dc-1 {
	z-index: 3;
}
#dc-2 {
	margin-top: 3.75rem;
	z-index: 2;
	transform: scale(0.95);
}
#dc-3 {
	margin-top: 6.25rem;
	z-index: 1;
	transform: scale(0.9);
}

/* Le filtre liquid est maintenant appliqué dynamiquement par JS */

@media screen and (max-width: 767px) {
	.drawings-stroke {
		display: none;
	}
	.drawings-track {
		height: auto;
	}
	.drawing-card {
		position: relative;
	}
	#dc-2 img {
		margin-top: 0;
		transform: none;
		max-width: 70vw;
	}
	#dc-3 {
		margin-top: 0;
		transform: none;
	}
}
